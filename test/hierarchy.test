box A ( out a1, out a2 )
box B ( in b1, in b2 )
wrapper C { in a1 (ca1), in a2 (ca2), out b1 (cb1), out b2 (cb2) } {
    link ca1 { CA }
    link ca2 { CC }
    link cb1 { CB }
    link cb2 { CD }

    box CA ( in ca1, out cb_int1 )

    wrapper CB { in cb_int1 (cba), out cb1 (cbc) } {
        link cba { CBA }
        link cbc { CBB }
        box CBA ( in cba, out cbb )
        box CBB ( in cbb, out cbc )

        CBA.CBB
    }

    box CC ( in ca2, out cb_int2 )
    box CD ( in cb_int2, out cb2 )

    CA.CB
    CC.CD

}
A.C.B
