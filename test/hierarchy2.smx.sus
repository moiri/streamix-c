/**
 * Hierarchical wrapper structure with port renaming on the net interfaces
 */

A = box A( out a )

wrapper W1( in a ) {
    A1 = box A1( up in a_int, down out b )
    wrapper W2( in b ) {
        A2 = box A2( in b_int )
        connect A2
    } net( up in b_int(b) )
    connect A1.W2
} net( up in a_int(a) )

connect A.W1
