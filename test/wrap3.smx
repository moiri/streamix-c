/**
 * Wrapper with a copy connection by renaming the net interface
 */

L = box L( out p1 )
R = box R( in p2 )
wrapper W( in p1, out p2 ) {
    A1 = box A ( in a1, out p_int )
    A2 = box A ( in a2, out p_int )
    B = box B ( in p_int, out b )
    connect (A1|A2).B
} net ( up in a1(p1), up in a2(p1), down out b(p2) )

connect L.W.R
