stateless box RS (speed: out up) on func_rs
stateless box B (break_abs: in up) on func_b
box ABS (
    speed: in down,
    break_abs: out down,
    break_cmd: in up,
    block: out up,
    abs: out up,
    dc: in up
) on func_abs
box MB (
    break_cmd: out down,
    block: in down
) on func_mb
box DC (
    abs: in down,
    dc: out down,
    dc: out up,
    cpa: in up,
    dist: in side
) on func_dc
stateless box DS (
    dist: out up,
    dist: out side
) on func_ds
box CPA (
    sync {
        dist: down decoupled,
        dc: down
    },
    cpa: out down,
    car_l_in: in side,
    car_l_out: out side,
    car_r_in: in side,
    car_r_out: out side
) on func_cpa

wrap Car {
    car_in (car_l_in) : in up,
    car_out (car_l_out) : out up,
    car_in (car_r_in) : in down,
    car_out (car_r_out) : out down
} on ((RS|B).ABS.(DC|MB)|DS).CPA

Car.Car.Car
