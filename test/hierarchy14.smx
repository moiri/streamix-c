/**
 * Hierarchical wrapper structure where the right side of the wrappers is not
 * connected until scope 0. With port renaming on the net interface
 */

B = box B( in b )

wrapper W1( out b ) {
    wrapper W2( out b1 ) {
        wrapper W3( out b2 ) {
            A3 = box A3( out b3 )
            connect A3
        } net( down out b3(b2) )
        connect W3
    } net( down out b2(b1) )
    connect W2
} net( down out b1(b) )

connect W1.B
