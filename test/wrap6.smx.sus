/**
 * Wrapper with copy sync in the net interface and the network equation inside
 * the wrapper which requires a merge of the two synchronizers.
 */

L = box L( out p1, out p2 )
R = box R( in p3, in p4 )
wrapper W( in p1, in p2, out p3, out p4 ) {
    A = box A ( in a, out p_int )
    B = box B ( in p_int, out b )
    connect (A|A).(B|B)
} net( up in a(p1, p2), down out b(p3, p4) )

connect L.W.R
